import React from "react";
import PropTypes from "prop-types";
import { Icon } from "@iconify/react";
import "./RepairsReport.css";

const RepairsReport = ({ reportData }) => {
  const styles = {
    reportContainer: {
      padding: "40px",
      backgroundColor: "#fff",
      color: "#333",
      fontFamily: "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",
    },
    header: {
      backgroundColor: "#0052CC",
      color: "#fff",
      padding: "16px",
      textAlign: "center",
      fontSize: "24px",
      fontWeight: "600",
      marginBottom: "32px",
    },
    reportHeader: {
      display: "flex",
      justifyContent: "space-between",
      alignItems: "flex-start",
      marginBottom: "40px",
    },
    logo: {
      width: "150px",
    },
    companyInfo: {
      textAlign: "right",
    },
    companyName: {
      fontSize: "24px",
      fontWeight: "600",
      marginBottom: "8px",
    },
    companyAddress: {
      color: "#666",
      marginBottom: "4px",
    },
    companyContact: {
      color: "#666",
    },
    reportInfo: {
      marginBottom: "40px",
    },
    reportField: {
      display: "flex",
      marginBottom: "8px",
      fontSize: "14px",
    },
    reportLabel: {
      width: "120px",
      color: "#666",
    },
    reportValue: {
      fontWeight: "500",
    },
    sectionTitle: {
      fontSize: "18px",
      fontWeight: "600",
      marginBottom: "16px",
    },
    overviewGrid: {
      display: "grid",
      gridTemplateColumns: "1fr",
      gap: "12px",
      marginBottom: "32px",
    },
    overviewItem: {
      display: "flex",
      justifyContent: "space-between",
      alignItems: "center",
      padding: "12px 16px",
      backgroundColor: "#F8FAFC",
      borderRadius: "4px",
    },
    overviewLabel: {
      color: "#666",
      fontSize: "14px",
    },
    overviewValue: {
      fontWeight: "500",
    },
    table: {
      width: "100%",
      borderCollapse: "collapse",
      marginBottom: "32px",
      fontSize: "14px",
    },
    tableHeader: {
      backgroundColor: "#F8FAFC",
      color: "#666",
      padding: "12px 16px",
      textAlign: "left",
      fontWeight: "normal",
    },
    tableCell: {
      padding: "12px 16px",
      borderBottom: "1px solid #E5E7EB",
    },
    statusBadge: {
      padding: "4px 12px",
      borderRadius: "4px",
      fontSize: "12px",
      fontWeight: "500",
      backgroundColor: "#E8F5E9",
      color: "#2E7D32",
    },
    dateRange: {
      display: "flex",
      justifyContent: "flex-end",
      gap: "24px",
      marginBottom: "16px",
      fontSize: "14px",
    },
    dateRangeText: {
      color: "#666",
    },
    footer: {
      marginTop: "40px",
      borderTop: "1px solid #E5E7EB",
      paddingTop: "16px",
    },
    footerText: {
      color: "#666",
      fontSize: "12px",
      textAlign: "center",
      marginBottom: "4px",
    },
  };

  return (
    <div style={styles.reportContainer}>
      <div style={styles.header}>Repairs Report</div>

      <div style={styles.reportHeader}>
        <div style={styles.logo}>
          <Icon icon="mona-protect-logo" width="150" />
        </div>
        <div style={styles.companyInfo}>
          <div style={styles.companyName}>Repairs Report</div>
          <div style={styles.companyName}>Mona Technologies Limited</div>
          <div style={styles.companyAddress}>613 Ahmadu Bello Way, Abuja</div>
          <div style={styles.companyContact}>+234 903 345 6789</div>
          <div style={styles.companyContact}>info@monaprotect.com</div>
        </div>
      </div>

      <div style={styles.reportInfo}>
        <div style={styles.reportField}>
          <span style={styles.reportLabel}>Report ID:</span>
          <span style={styles.reportValue}>
            {reportData?.reportId || "RPT123456"}
          </span>
        </div>
        <div style={styles.reportField}>
          <span style={styles.reportLabel}>Generated by:</span>
          <span style={styles.reportValue}>
            {reportData?.generatedBy || "Admin 1/Michael James"}
          </span>
        </div>
        <div style={styles.reportField}>
          <span style={styles.reportLabel}>Generated on:</span>
          <span style={styles.reportValue}>
            {reportData?.generatedOn || "2025-01-15 16:09:05"}
          </span>
        </div>
        <div style={styles.reportField}>
          <span style={styles.reportLabel}>Version:</span>
          <span style={styles.reportValue}>{reportData?.version || "1.0"}</span>
        </div>
      </div>

      <div>
        <h2 style={styles.sectionTitle}>Overview</h2>
        <div style={styles.overviewGrid}>
          <div style={styles.overviewItem}>
            <label style={styles.overviewLabel}>Total No. of Devices:</label>
            <span style={styles.overviewValue}>
              {reportData?.totalDevices || "10"}
            </span>
          </div>
          <div style={styles.overviewItem}>
            <label style={styles.overviewLabel}>Total Cost of Repairs:</label>
            <span style={styles.overviewValue}>
              ₦{reportData?.totalCostOfRepairs || "100,000"}
            </span>
          </div>
          <div style={styles.overviewItem}>
            <label style={styles.overviewLabel}>
              Total Cost of Repairs paid:
            </label>
            <span style={styles.overviewValue}>
              ₦{reportData?.totalCostOfRepairsPaid || "50,000"}
            </span>
          </div>
          <div style={styles.overviewItem}>
            <label style={styles.overviewLabel}>
              Total Cost of Repairs awaiting:
            </label>
            <span style={styles.overviewValue}>
              ₦{reportData?.totalCostOfRepairsAwaiting || "50,000"}
            </span>
          </div>
        </div>
      </div>

      <div>
        <h2 style={styles.sectionTitle}>Highlight of Repairs</h2>
        <table style={styles.table}>
          <thead>
            <tr>
              <th style={styles.tableHeader}>S/N</th>
              <th style={styles.tableHeader}>Issues</th>
              <th style={styles.tableHeader}>Count</th>
            </tr>
          </thead>
          <tbody>
            {reportData?.highlights?.map((item, index) => (
              <tr key={index}>
                <td style={styles.tableCell}>
                  {String(index + 1).padStart(2, "0")}
                </td>
                <td style={styles.tableCell}>{item.issue}</td>
                <td style={styles.tableCell}>{item.count}</td>
              </tr>
            )) || (
              <>
                <tr>
                  <td style={styles.tableCell}>01</td>
                  <td style={styles.tableCell}>Damaged screen</td>
                  <td style={styles.tableCell}>5</td>
                </tr>
                <tr>
                  <td style={styles.tableCell}>02</td>
                  <td style={styles.tableCell}>Not Charging</td>
                  <td style={styles.tableCell}>5</td>
                </tr>
              </>
            )}
          </tbody>
        </table>
      </div>

      <div>
        <h2 style={styles.sectionTitle}>Repairs Information</h2>
        <div style={styles.dateRange}>
          <span style={styles.dateRangeText}>
            From: {reportData?.dateRange?.from || "Jan. 22TH 2024"}
          </span>
          <span style={styles.dateRangeText}>
            To: {reportData?.dateRange?.to || "Dec. 22TH 2024"}
          </span>
        </div>
        <table style={styles.table}>
          <thead>
            <tr>
              <th style={styles.tableHeader}>Claim ID</th>
              <th style={styles.tableHeader}>Brand</th>
              <th style={styles.tableHeader}>Model</th>
              <th style={styles.tableHeader}>Amount</th>
              <th style={styles.tableHeader}>Status</th>
              <th style={styles.tableHeader}>Approved by</th>
              <th style={styles.tableHeader}>Date</th>
            </tr>
          </thead>
          <tbody>
            {reportData?.repairsInfo?.map((repair, index) => (
              <tr key={index}>
                <td style={styles.tableCell}>{repair.claimId}</td>
                <td style={styles.tableCell}>{repair.brand}</td>
                <td style={styles.tableCell}>{repair.model}</td>
                <td style={styles.tableCell}>₦{repair.amount}</td>
                <td style={styles.tableCell}>
                  <span
                    style={{
                      ...styles.statusBadge,
                      backgroundColor:
                        repair.status.toLowerCase() === "paid"
                          ? "#E8F5E9"
                          : "#FFF8E1",
                      color:
                        repair.status.toLowerCase() === "paid"
                          ? "#2E7D32"
                          : "#F57C00",
                    }}
                  >
                    {repair.status}
                  </span>
                </td>
                <td style={styles.tableCell}>{repair.approvedBy}</td>
                <td style={styles.tableCell}>{repair.date}</td>
              </tr>
            )) || (
              <>
                <tr>
                  <td style={styles.tableCell}>#0001</td>
                  <td style={styles.tableCell}>Samsung</td>
                  <td style={styles.tableCell}>Galaxy S20</td>
                  <td style={styles.tableCell}>₦123,345</td>
                  <td style={styles.tableCell}>
                    <span style={styles.statusBadge}>Paid</span>
                  </td>
                  <td style={styles.tableCell}>Admin 1</td>
                  <td style={styles.tableCell}>2025-01-15</td>
                </tr>
                <tr>
                  <td style={styles.tableCell}>#0001</td>
                  <td style={styles.tableCell}>Samsung</td>
                  <td style={styles.tableCell}>Galaxy S20</td>
                  <td style={styles.tableCell}>₦123,345</td>
                  <td style={styles.tableCell}>
                    <span
                      style={{
                        ...styles.statusBadge,
                        backgroundColor: "#FFF8E1",
                        color: "#F57C00",
                      }}
                    >
                      Awaiting
                    </span>
                  </td>
                  <td style={styles.tableCell}>Admin 1</td>
                  <td style={styles.tableCell}>2025-01-15</td>
                </tr>
              </>
            )}
          </tbody>
        </table>
      </div>

      <div style={styles.footer}>
        <p style={styles.footerText}>
          Generated on: {reportData?.generatedOn || "2025-01-15 16:30"} | Page 1
          of 1 | Report ID: {reportData?.reportId || "RPT123456"} | Mona Protect
        </p>
        <p style={styles.footerText}>Confidential – For internal use only</p>
      </div>
    </div>
  );
};

RepairsReport.propTypes = {
  reportData: PropTypes.shape({
    reportId: PropTypes.string,
    generatedBy: PropTypes.string,
    generatedOn: PropTypes.string,
    version: PropTypes.string,
    totalDevices: PropTypes.string,
    totalCostOfRepairs: PropTypes.string,
    totalCostOfRepairsPaid: PropTypes.string,
    totalCostOfRepairsAwaiting: PropTypes.string,
    highlights: PropTypes.arrayOf(
      PropTypes.shape({
        issue: PropTypes.string,
        count: PropTypes.number,
      })
    ),
    dateRange: PropTypes.shape({
      from: PropTypes.string,
      to: PropTypes.string,
    }),
    repairsInfo: PropTypes.arrayOf(
      PropTypes.shape({
        claimId: PropTypes.string,
        brand: PropTypes.string,
        model: PropTypes.string,
        amount: PropTypes.string,
        status: PropTypes.string,
        approvedBy: PropTypes.string,
        date: PropTypes.string,
      })
    ),
  }),
};

export default RepairsReport;
